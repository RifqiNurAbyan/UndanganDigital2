<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Undangan Pernikahan - Rafi & Salsabila</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;500&display=swap" rel="stylesheet"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(#29250c, #634d2b, #3e3624);
      color: #fff;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    .snow {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 1000;
    }
    .section {
      padding: 60px 20px;
      text-align: center;
      background-color: rgba(255, 253, 190, 0.08);
    }
    h1, h2 { font-family: 'Playfair Display', serif; }
    #cover {
      height: 100vh;
      background: url('images/bg.jpg') center/cover no-repeat;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    #cover h1 {
      font-size: 3em;
      animation: fadeInDown 2s ease;
    }
    #cover button {
      padding: 12px 30px;
      background: #fff;
      border: none;
      border-radius: 30px;
      color: #000;
      font-weight: bold;
      margin-top: 20px;
      animation: fadeInUp 2s ease;
      cursor: pointer;
    }
    .couple {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
    }
    .person img {
      width: 200px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.6);
    }
    .form-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 20px;
    }
    input, textarea, select {
      padding: 10px;
      margin: 8px 0;
      width: 90%;
      max-width: 400px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
    }
    button.submit-btn {
      padding: 10px 20px;
      background: gold;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    .messages {
      margin-top: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .message-box {
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 10px;
      text-align: left;
    }
    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<!-- Efek Salju -->
<div class="snow" id="snow"></div>

<!-- Cover & Musik -->
<section id="cover">
  <h1>Rafi & Salsabila</h1>
  <button onclick="bukaUndangan()">Buka Undangan</button>
  <audio id="bgm" muted loop>
    <source src="audio/lagu.mp3" type="audio/mp3" />
  </audio>
</section>

<!-- Ayat -->
<section id="ayat" class="section">
  <h2>✤ Adz-Dzariyat : 49 ✤</h2>
  <p style="font-size: 22px; font-style: italic;">وَمِن كُلِّ شَيْءٍ خَلَقْنَا زَوْجَيْنِ لَعَلَّكُمْ تَذَكَّرُونَ</p>
  <p>Maha suci Allah yang menciptakan makhluk-Nya berpasang-pasangan.</p>
</section>

<!-- Mempelai -->
<section class="section">
  <h2>Pasangan Mempelai</h2>
  <div class="couple">
    <div class="person">
      <img src="images/foto 2.jpg" alt="Mempelai Pria"/>
      <h3>Rafi Albar</h3>
      <p>Putra dari Bapak Ahmad & Ibu Siti</p>
    </div>
    <div class="person">
      <img src="images/foto 1.jpg" alt="Mempelai Wanita"/>
      <h3>Salsabila Putri</h3>
      <p>Putri dari Bapak Budi & Ibu Rina</p>
    </div>
  </div>
</section>

<!-- Countdown -->
<section class="section">
  <h2>Hitung Mundur Pernikahan</h2>
  <div id="countdown" style="font-size: 28px; font-weight: bold; margin-top: 20px;"></div>
</section>

<!-- Lokasi -->
<section class="section">
  <h2>Lokasi & Waktu</h2>
  <p>Akad: Sabtu, 20 Agustus 2025 - 09.00 WIB</p>
  <p>Resepsi: Sabtu, 20 Agustus 2025 - 11.00 WIB</p>
  <p>Gedung Serbaguna Mawar, Jakarta</p>
  <iframe src="https://maps.google.com/maps?q=gedung%20mawar&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="300" style="border:0; border-radius:12px;"></iframe>
</section>

<!-- Kehadiran -->
<section class="section">
  <h2>Konfirmasi Kehadiran</h2>
  <div class="form-wrapper">
    <input type="text" placeholder="Nama Anda" id="namaKehadiran">
    <select id="kehadiran">
      <option value="">Pilih Kehadiran</option>
      <option value="Hadir">Hadir</option>
      <option value="Tidak Hadir">Tidak Hadir</option>
    </select>
    <button class="submit-btn" onclick="kirimKehadiran()">Kirim</button>
    <p id="responKehadiran" style="margin-top:10px;"></p>
  </div>
</section>

<!-- Ucapan -->
<section class="section">
  <h2>Ucapan & Doa</h2>
  <div class="form-wrapper">
    <input type="text" placeholder="Nama Anda" id="namaUcapan">
    <textarea placeholder="Ucapan & Doa" id="pesanUcapan" rows="4"></textarea>
    <button class="submit-btn" onclick="kirimUcapan()">Kirim Ucapan</button>
    <p id="responUcapan" style="margin-top:10px;"></p>
  </div>
  <div class="messages" id="daftarUcapan"></div>
</section>

<!-- Penutup -->
<section class="section">
  <h2>Terima Kasih</h2>
  <p>Merupakan kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu.</p>
  <p>Wassalamu'alaikum Warahmatullahi Wabarakatuh</p>
</section>

<!-- SCRIPT -->
<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbyZA1ztQaZvz8_QyJW8k7tXfy16PeQ2FvY6iSXer8KLIfX_YLo6MoSLesneVYkiuaGhtw/exec";

  function bukaUndangan() {
    document.getElementById('ayat').scrollIntoView({behavior: 'smooth'});
    const audio = document.getElementById("bgm");
    audio.muted = false;
    audio.play();
  }

  function kirimKehadiran() {
    const nama = document.getElementById("namaKehadiran").value.trim();
    const status = document.getElementById("kehadiran").value;
    const respon = document.getElementById("responKehadiran");

    if (!nama || !status) {
      respon.innerText = "Harap lengkapi nama dan kehadiran.";
      return;
    }

    fetch(scriptURL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ jenis: "kehadiran", nama, status })
    })
    .then(() => {
      respon.innerText = "Konfirmasi berhasil dikirim.";
      document.getElementById("namaKehadiran").value = "";
      document.getElementById("kehadiran").value = "";
    })
    .catch(() => {
      respon.innerText = "Gagal mengirim data.";
    });
  }

  function kirimUcapan() {
    const nama = document.getElementById("namaUcapan").value.trim();
    const pesan = document.getElementById("pesanUcapan").value.trim();
    const respon = document.getElementById("responUcapan");

    if (!nama || !pesan) {
      respon.innerText = "Harap isi nama dan pesan.";
      return;
    }

    fetch(scriptURL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ jenis: "ucapan", nama, pesan })
    })
    .then(() => {
      respon.innerText = "Ucapan berhasil dikirim.";
      const box = document.createElement("div");
      box.className = "message-box";
      box.innerHTML = `<strong>${nama}</strong><p>${pesan}</p>`;
      document.getElementById("daftarUcapan").prepend(box);
      document.getElementById("namaUcapan").value = "";
      document.getElementById("pesanUcapan").value = "";
    })
    .catch(() => {
      respon.innerText = "Gagal mengirim ucapan.";
    });
  }

  // Countdown
  const countDownDate = new Date("Aug 20, 2025 09:00:00").getTime();
  setInterval(() => {
    const now = new Date().getTime();
    const distance = countDownDate - now;
    if (distance < 0) {
      document.getElementById("countdown").innerHTML = "Acara sedang berlangsung";
      return;
    }
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
    document.getElementById("countdown").innerHTML = `${days} hari ${hours} jam ${minutes} menit ${seconds} detik`;
  }, 1000);

  // Salju
  const snow = document.getElementById("snow");
  for (let i = 0; i < 50; i++) {
    let s = document.createElement("div");
    s.innerHTML = "❄";
    s.style.position = "absolute";
    s.style.top = Math.random() * window.innerHeight + "px";
    s.style.left = Math.random() * window.innerWidth + "px";
    s.style.fontSize = Math.random() * 10 + 10 + "px";
    s.style.opacity = Math.random();
    snow.appendChild(s);
    animateSnow(s);
  }
  function animateSnow(el) {
    let y = parseFloat(el.style.top);
    let x = parseFloat(el.style.left);
    setInterval(() => {
      y += 1; x += Math.sin(y / 20);
      if (y > window.innerHeight) y = 0;
      el.style.top = y + "px";
      el.style.left = x + "px";
    }, 50);
  }
</script>

</body>
</html>
